# smithery.yaml - Following official Smithery schema
runtime: "container"

build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "."

startCommand:
  type: "http"
  configSchema:
    type: "object"
    properties:
      maxJobs:
        type: "integer"
        title: "Maximum Jobs"
        description: "Maximum number of jobs to return per search"
        default: 10
        minimum: 1
        maximum: 50
      timeout:
        type: "integer"
        title: "Request Timeout"
        description: "Timeout in seconds for web scraping requests"
        default: 15
        minimum: 5
        maximum: 30
  exampleConfig:
    maxJobs: 10
    timeout: 15

testConfig:
  enabled: true
  configFile: ".smithery-test.yaml"
  timeout: 30
  endpoints:
    health: "/health"
    scan: "/mcp/scan"
    capabilities: "/mcp/capabilities"
    config: "/.well-known/mcp-config"
  tests:
    - name: "health_check"
      endpoint: "/health"
      method: "GET"
    - name: "mcp_initialize"
      endpoint: "/mcp"
      method: "POST"
      payload:
        jsonrpc: "2.0"
        method: "initialize"
        params:
          protocolVersion: "2024-11-05"
          capabilities: {}
        id: 1

env:
  PORT: "8081"
  HOST: "0.0.0.0"
  PYTHONUNBUFFERED: "1"